{{ define "main" }}
<div class="home-container">
    <section id="latest-reading" class="latest-section">
        <div class="latest-header">
            <h1>最新阅读卡片</h1>
            <p>聚焦每日资讯更新，优先展示 Bubble's Brain 最新的日报内容。</p>
        </div>

        {{ $dailyPages := where .Site.RegularPages "Section" "daily" }}
        {{ if $dailyPages }}
            <div class="recent-posts">
                {{ range first 5 ($dailyPages.ByDate.Reverse) }}
                    <article class="post-card">
                        <h3>
                            <a href="{{ .Permalink }}">{{ .Title }}</a>
                        </h3>
                        <time datetime="{{ .Date.Format "2006-01-02" }}">
                            {{ .Date.Format "2006年01月02日" }}
                        </time>
                        {{ with .Description }}
                            <p>{{ . }}</p>
                        {{ else }}
                            <p>{{ .Summary | truncate 150 }}</p>
                        {{ end }}
                        <a href="{{ .Permalink }}" class="read-more">阅读全文 →</a>
                    </article>
                {{ end }}
            </div>

            <div class="latest-cta">
                <a href="/daily/" class="btn">浏览完整手册</a>
            </div>
        {{ else }}
            <div class="latest-empty">
                <p>暂时没有可读卡片，稍后再来，新的知识正在酝酿。</p>
            </div>
        {{ end }}
    </section>
</div>

<style>
.latest-section {
    max-width: 960px;
    margin: 0 auto;
    padding: 2rem 1.25rem 4rem;
}

.latest-header {
    text-align: center;
    margin-bottom: 2rem;
}

.latest-header p {
    color: var(--claude-text-light);
    margin-top: 0.5rem;
}

.recent-posts {
    display: grid;
    gap: 1.5rem;
}

.post-card {
    border: 1px solid var(--claude-border);
    border-radius: 16px;
    padding: 1.5rem;
    background: white;
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.post-card h3 {
    margin: 0;
    font-size: 1.3rem;
}

.post-card h3 a {
    color: var(--claude-text);
    text-decoration: none;
}

.post-card h3 a:hover {
    color: var(--claude-accent);
}

.post-card time {
    font-size: 0.9rem;
    color: var(--claude-text-light);
}

.post-card p {
    margin: 0;
    color: var(--claude-text-light);
}

.read-more {
    color: var(--claude-accent);
    font-weight: 500;
    text-decoration: none;
}

.latest-cta {
    text-align: center;
    margin-top: 2rem;
}

.latest-cta .btn {
    display: inline-block;
    text-decoration: none;
}

.latest-empty {
    text-align: center;
    padding: 3rem;
    background: white;
    border-radius: 12px;
    border: 1px solid var(--claude-border);
    color: var(--claude-text-light);
}
</style>
{{ end }}
