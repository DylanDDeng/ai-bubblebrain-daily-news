# å®Œæ•´å·¥ä½œæµç¨‹æŒ‡å—

## ğŸ”„ å·¥ä½œæµç¨‹æ¦‚è§ˆ

```mermaid
graph LR
    A[wrangler dev] --> B[è®¿é—® /getContentHtml]
    B --> C[é€‰æ‹©æ–°é—»å†…å®¹]
    C --> D[ç”Ÿæˆ AI æ‘˜è¦]
    D --> E[æäº¤åˆ° GitHub]
    E --> F[GitHub Actions æ„å»º]
    F --> G[éƒ¨ç½²åˆ° GitHub Pages]
```

## ğŸ“ è¯¦ç»†æ­¥éª¤

### 1. å¯åŠ¨æœ¬åœ°å¼€å‘æœåŠ¡å™¨

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œ
wrangler dev
```

æœåŠ¡å™¨å°†åœ¨ `http://localhost:8787` å¯åŠ¨ã€‚

### 2. è®¿é—®å†…å®¹ç®¡ç†ç•Œé¢

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š`http://localhost:8787/getContentHtml`

- é»˜è®¤ç”¨æˆ·åï¼š`root`
- é»˜è®¤å¯†ç ï¼š`toor`

### 3. é€‰æ‹©æ–°é—»å†…å®¹

1. é¡µé¢ä¼šæ˜¾ç¤ºæ¥è‡ªå„ä¸ªæ•°æ®æºçš„æœ€æ–°å†…å®¹
2. å‹¾é€‰æ‚¨æƒ³è¦åŒ…å«åœ¨æ—¥æŠ¥ä¸­çš„æ¡ç›®
3. ç‚¹å‡»"æäº¤"æŒ‰é’®

### 4. AI å¤„ç†å’Œç”Ÿæˆ

ç³»ç»Ÿä¼šè‡ªåŠ¨ï¼š
- ä½¿ç”¨ AI ç”Ÿæˆå†…å®¹æ‘˜è¦
- åˆ›å»ºæ’­å®¢è„šæœ¬
- æ ¼å¼åŒ–ä¸º Markdown æ–‡æ¡£

### 5. æäº¤åˆ° GitHub

ç‚¹å‡»"Commit to GitHub"æŒ‰é’®ï¼Œå†…å®¹ä¼šè¢«æ¨é€åˆ°ï¼š
- æ—¥æŠ¥æ–‡ä»¶ï¼š`daily/YYYY-MM-DD.md`
- æ’­å®¢è„šæœ¬ï¼š`podcast/YYYY-MM-DD.md`

### 6. æœ¬åœ°é¢„è§ˆï¼ˆç«‹å³æŸ¥çœ‹ï¼‰

```bash
# åŒæ­¥æœ€æ–°å†…å®¹åˆ° Hugo
bash scripts/sync-daily-to-hugo.sh

# å¯åŠ¨ Hugo å¼€å‘æœåŠ¡å™¨
hugo server -D

# è®¿é—® http://localhost:1313 æŸ¥çœ‹
```

### 7. è‡ªåŠ¨éƒ¨ç½²ï¼ˆGitHub Actionsï¼‰

æ¨é€åˆ° GitHub åï¼ŒActions ä¼šè‡ªåŠ¨ï¼š
1. è¿è¡ŒåŒæ­¥è„šæœ¬
2. æ„å»º Hugo ç«™ç‚¹
3. éƒ¨ç½²åˆ° GitHub Pages

## ğŸ”§ é…ç½®è¯´æ˜

### ä¿®æ”¹æ•°æ®æº

ç¼–è¾‘ `wrangler.toml` ä¸­çš„é…ç½®ï¼š

```toml
# Folo æ•°æ®æºé…ç½®
FOLLOW_LIST_IDS = "news:123456789,project:987654321"
FOLLOW_COOKIE = "your_folo_cookie"

# GitHub ä»“åº“é…ç½®
GITHUB_REPO_OWNER = "your_username"
GITHUB_REPO_NAME = "your_repo_name"
```

### ä¿®æ”¹ AI æ¨¡å‹

```toml
# ä½¿ç”¨ Google Gemini
USE_GEMINI = "true"
GEMINI_API_KEY = "your_api_key"

# æˆ–ä½¿ç”¨ OpenAI å…¼å®¹æ¨¡å‹
USE_GEMINI = "false"
OPENAI_API_KEY = "your_api_key"
OPENAI_API_URL = "https://api.openai.com/v1/chat/completions"
```

## ğŸ“ æ–‡ä»¶ç»„ç»‡

```
CloudFlare-AI-Insight-Daily/
â”œâ”€â”€ daily/                    # åŸå§‹æ—¥æŠ¥æ–‡ä»¶
â”‚   â””â”€â”€ 2025-01-16.md
â”œâ”€â”€ content/daily/           # Hugo æ ¼å¼åŒ–åçš„æ–‡ä»¶
â”‚   â””â”€â”€ 2025-01-16.md       # (åŒ…å« front matter)
â”œâ”€â”€ public/                  # Hugo æ„å»ºè¾“å‡º
â””â”€â”€ scripts/
    â””â”€â”€ sync-daily-to-hugo.sh  # åŒæ­¥è„šæœ¬
```

## ğŸš€ å¿«é€Ÿå‘½ä»¤

```bash
# å¼€å‘æ¨¡å¼
wrangler dev

# åŒæ­¥å†…å®¹å¹¶é¢„è§ˆ
bash scripts/sync-daily-to-hugo.sh && hugo server -D

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
hugo --minify

# æŸ¥çœ‹æ„å»ºç»“æœ
open public/index.html
```

## â“ å¸¸è§é—®é¢˜

### Q: ä¸ºä»€ä¹ˆæœ¬åœ°çœ‹ä¸åˆ°æ–°ç”Ÿæˆçš„å†…å®¹ï¼Ÿ

A: ç”Ÿæˆå†…å®¹åéœ€è¦è¿è¡ŒåŒæ­¥è„šæœ¬ï¼š
```bash
bash scripts/sync-daily-to-hugo.sh
```

### Q: å¦‚ä½•ä¿®æ”¹ç«™ç‚¹åŸŸåï¼Ÿ

A: ç¼–è¾‘ `hugo.toml`:
```toml
baseURL = 'https://your-domain.com/'
```

### Q: å¦‚ä½•æ·»åŠ æ–°çš„æ•°æ®æºï¼Ÿ

A: å‚è€ƒ `src/dataSources/` ç›®å½•ä¸‹çš„ç¤ºä¾‹ï¼Œåˆ›å»ºæ–°çš„æ•°æ®æºæ–‡ä»¶ã€‚

## ğŸ“Š å·¥ä½œæµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CloudFlare      â”‚â”€â”€â”€â”€â–¶â”‚ GitHub          â”‚â”€â”€â”€â”€â–¶â”‚ GitHub Pages    â”‚
â”‚ Worker          â”‚     â”‚ Repository      â”‚     â”‚ (Hugo Site)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                         â”‚                         â”‚
       â”‚                         â”‚                         â”‚
       â–¼                         â–¼                         â–¼
  ç”Ÿæˆæ—¥æŠ¥å†…å®¹              å­˜å‚¨ Markdown            å…¬å¼€è®¿é—®ç½‘ç«™
                              æ–‡ä»¶
```

## ğŸ” å®‰å…¨æé†’

1. ä¸è¦æäº¤åŒ…å«æ•æ„Ÿä¿¡æ¯çš„ `wrangler.toml`
2. ä½¿ç”¨ç¯å¢ƒå˜é‡æˆ– GitHub Secrets ç®¡ç† API å¯†é’¥
3. å®šæœŸæ›´æ–° GitHub Token